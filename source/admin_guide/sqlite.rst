Sqlite
======

Kanboardは Sqlite にデータを保存します。全てのタスク、プロジェクト、そしてユーザー情報はこのデータベース内に保存されます。

技術的には、データベースは ``data`` ディレクトリ内の ``db.sqlite`` という名前の単一のファイルです。

エクスポート/バックアップ
-------------

コマンドライン
~~~~~~~~~~~~

バックアップを取るのは非常に簡単で、 単に ``data/db.sqlite``ファイルをコピーするだけなのでソフトウェアは何も必要ありません。

ユーザーインターフェース
~~~~~~~~~~~~~~

また、いつでも **設定** メニューからデータベースを直接ダウンロードできます。

ダウンロードされたデータベースは gzipで圧縮され、ファイル名は ``db.sqlite.gz`` になります。

インポート/復元
------------------

ユーザーインターフェースからデータベースを復元する方法は全くありません。復元は何もソフトウェアを使わずに、必ず手動で行う必要があります。

-  古いバックアップから復元するには、単に ``data/db.sqlite`` を正しいファイルに置き換える/上書きするだけです。
-  gzip圧縮されたデータベースを解凍するには、ターミナルから ``gunzip db.sqlite.gz`` のコマンドを実行してください。

最適化
------------

時々 ``VACUUM`` コマンドを実行することで、データベースを最適化できます。このコマンドはデータベース全体を再構築するので、様々な理由で使用され得ます。
:

-  データを削除しても空白のスペースが発生しファイルサイズが変わらないのを、ファイルサイズを小さくします。
-  挿入と更新を繰り返すことでデータベースが断片化します。

コマンドラインから
~~~~~~~~~~~~~~~~~~~~~

::

    sqlite3 data/db.sqlite 'VACUUM'

ユーザーインターフェースから
~~~~~~~~~~~~~~~~~~~~~~~

メニューの **設定** を開いてから、 **データベースの最適化** を選択してください。

更なる情報は、`Sqlite documentation <https://sqlite.org/lang_vacuum.html>`__ を参照願います。
